authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
base::paste0('<p>',x[x,1],' ',houses[x,2], '</p>')
mail_template <- base::paste0(
'<h1>Olá ', nome,'!</h1> Tudo bem?',
'<br>',
'<p> Veja o que eu encontrei na internet sobre casas para alugar </p>',
for(x in 1:5) {
base::paste0('<p>',x[x,1],' ',houses[x,2], '</p>')
}
)
mail_template <- base::paste0(
'<h1>Olá ', nome,'!</h1> Tudo bem?',
'<br>',
'<p> Veja o que eu encontrei na internet sobre casas para alugar </p>',
for(x in 1:5) {
base::paste0('<p>',houses[x,1],' ',houses[x,2], '</p>')
}
)
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
mail_template
mail_template <- base::paste0(
'<h1>Olá ', nome,'!</h1> Tudo bem?',
'<br>',
'<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>',
for(x in 1:5) {
base::paste0('<p>',houses[x,1],' ',houses[x,2], '</p>')
}
)
mail_template
for(x in 1:5) {
base::paste0('<p>',houses[x,1],' ',houses[x,2], '</p>')
}
for(x in 1:5) {
base::paste0('<p>',houses[x,1],' ',houses[x,2], '</p>')
}
for(x in 1:5) {
print(base::paste0('<p>',houses[x,1],' ',houses[x,2], '</p>'))
}
mail_template <- base::paste0(
'<h1>Olá ', nome,'!</h1> Tudo bem?',
'<br>',
'<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>',
for(x in 1:5) {
print(base::paste0('<p>',houses[x,1],' ',houses[x,2], '</p>'))
}
)
mail_template
mail_template <- base::paste0(
'<h1>Olá ', nome,'!</h1> Tudo bem?',
'<br>',
'<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>',
for(x in 1:5) {
print('<p>',houses[x,1],' ',houses[x,2], '</p>')
}
)
mail_houses <- houses[:5,]
mail_houses <- houses[1:5,]
mail_houses
mail_template <- base::paste0(
'<h1>Olá ', nome,'!</h1> Tudo bem?',
'<br>',
'<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>',
mail_houses[1,1]
)
mail_template <- base::paste0(
'<h1>Olá ', nome,'!</h1> Tudo bem?',
'<br>',
'<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>', mail_houses[1,1]
)
mail_houses[1,1]
mail_template <- base::paste(
'<h1>Olá', nome,'!</h1> Tudo bem?',
'<br>',
'<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>', mail_houses[1,1]
)
region = c(1, 2)
value = 4
name = "name"
str = paste("region = (", region[1], ", ", region[2], "), value = ", value,
", name = '", name, "'", sep = "")
cat(str)
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>", mail_houses[1,1]
)
mail_template
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>", mail_houses
)
mail_template
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
for (x in 1:5) {
paste(mail_houses[x,1],mail_houses[x,2], mail_houses[x:3])
}
)
mail_houses
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
for (x in 1:5) {
paste(mail_houses[x,1],mail_houses[x,2])
}
)
mail_template
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
for (x in 1:5) {
print(mail_houses[x,1],mail_houses[x,2])
}
)
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
for (x in 1:5) {
paste(print(mail_houses[x,1],mail_houses[x,2]))
}
)
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
for (x in 1:5) {
print(paste(mail_houses[x,1],mail_houses[x,2]))
}
)
mail_template
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
mail_houses[2:]
)
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
mail_houses[2,]
)
mail_template
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
c(mail_houses[1,])
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
c(mail_houses[1,])
)
mail_template
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
print(mail_houses[1,])
)
mail_template
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
print(mail_houses[1,1])
)
mail_template
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
print(mail_houses[1,1]), "<br><br><br>",
print(mail_houses[1,2])
)
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
print(mail_houses[1,1]), "<br><br><br>",
print(mail_houses[1,2]), "<br><br><br>",
print(mail_houses[1,3])
)
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
for (x in 1:5) {
paste(print(mail_houses[x,1]), "<br><br><br>",
print(mail_houses[x,2]), "<br><br><br>",
print(mail_houses[x,3]))
}
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
for (x in 1:5) {
paste(print(mail_houses[x,1]), "<br><br><br>",
print(mail_houses[x,2]), "<br><br><br>",
print(mail_houses[x,3]))
}
)
mail_template
teste <- for (x in 1:5) {
paste(print(mail_houses[x,1]), "<br><br><br>",
print(mail_houses[x,2]), "<br><br><br>",
print(mail_houses[x,3]))
}
teste
for (x in 1:5) {
teste <- paste(print(mail_houses[x,1]), "<br><br><br>",
print(mail_houses[x,2]), "<br><br><br>",
print(mail_houses[x,3]))
}
teste
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
teste
)
mail_template
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
for (x in 1:5) {
teste <- paste(teste,print(mail_houses[x,1]), "<br><br><br>",
print(mail_houses[x,2]), "<br><br><br>",
print(mail_houses[x,3]))
}
for (x in 1:5) {
teste[x] <- paste(teste,print(mail_houses[x,1]), "<br><br><br>",
print(mail_houses[x,2]), "<br><br><br>",
print(mail_houses[x,3]))
}
teste <- c()
for (x in 1:5) {
teste[x] <- paste(teste,print(mail_houses[x,1]), "<br><br><br>",
print(mail_houses[x,2]), "<br><br><br>",
print(mail_houses[x,3]))
}
teste
for (x in 1:5) {
teste[x] <- paste(teste,mail_houses[x,1], "<br><br><br>",
mail_houses[x,2], "<br><br><br>",
mail_houses[x,3])
}
teste
for (x in 1:5) {
teste[x] <- paste(teste,mail_houses[x,1], "'<br><br><br>'",
mail_houses[x,2], "<br><br><br>",
mail_houses[x,3])
}
teste
for (x in 1:5) {
teste[x] <- paste(teste,mail_houses[x,1], "<br>",
mail_houses[x,2], "<br>",
mail_houses[x,3], "<br>")
}
teste
for (x in 1:5) {
teste[x] <- paste(teste,mail_houses[x,1],
mail_houses[x,2],
mail_houses[x,3])
}
teste
teste <- c()
for (x in 1:5) {
teste[x] <- paste(teste,mail_houses[x,1],
mail_houses[x,2],
mail_houses[x,3])
}
teste
teste <- c()
for (x in 1:5) {
teste[x] <- paste(mail_houses[x,1],
mail_houses[x,2],
mail_houses[x,3])
}
teste
teste <- c()
for (x in 1:5) {
teste[x] <- paste(mail_houses[x,1],"<br>",
mail_houses[x,2],"<br>",
mail_houses[x,3],"<br><br><br>")
}
teste
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
teste
)
mail_template
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
teste[1], teste[2], teste[3], teste[4], teste[5]
)
mail_template
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
teste[1], teste[2], teste[3], teste[4], teste
)
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
mail_template
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
teste[1], teste[2], teste[3], teste[4], teste[5]
)
mail_template
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
mail_houses <- c()
nome <- c("Raquel")
mail_houses <- c()
for (x in 1:5) {
mail_houses[x] <- paste(houses[x,1],"<br>",
houses[x,2],"<br>",
houses[x,3],"<br><br><br>")
}
mail_template <- base::paste(
"<h1>Olá", nome,"!</h1> Tudo bem?",
"<br>",
"<p> Veja o que eu encontrei na internet sobre casas para alugar </p> <br>",
mail_houses[1], mail_houses[2], mail_houses[3], mail_houses[4], mail_houses[5]
)
mailR::send.mail(
from = "noreply.houses@gmail.com",
to = "noreply.houses@gmail.com",
subject = 'Test email',
body = mail_template,
html = T,
smtp = list(
host.name = "smtp.gmail.com",
port = 465,
user.name = "noreply.houses@gmail.com",
passwd = "123!@#asd",
ssl = T
),
authenticate = T,
attach.files = 'C:/R-Projects/webscrapping-imoveis/houses.xlsx',
send = T
)
# zera td
base::rm(list = ls())
# carrega pckgs
pacman::p_load('RSelenium', 'plyr', 'dplyr', 'rvest', 'stringr', 'xlsx', 'mailR')
# ler o arquivo local (p/ não usar banco de dados)
local_file <- xlsx::read.xlsx('houses.xlsx', 1) %>%
base::as.data.frame()
# abstracao dos links por partes
base_link <- c('https://www.vivareal.com.br/')
route_params <- c('aluguel/sp/sao-jose-do-rio-preto/condominio_residencial/')
pagination <- c('?pagina=')
query_params <- c('#ordenar-por=preco:ASC&preco-ate=3000&preco-desde=2000&quartos=2&tipos=condominio_residencial,casa_residencial')
rD$client$open() # caso o navegador feche
# Iniciar um servidor Selenium e criar instancia de browser
rD <- RSelenium::rsDriver(browser = 'chrome', port = 4545L, chromever = '89.0.4389.23')
